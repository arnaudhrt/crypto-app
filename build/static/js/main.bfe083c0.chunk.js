(this["webpackJsonpcrypto-app"]=this["webpackJsonpcrypto-app"]||[]).push([[0],{28:function(e,c,t){},49:function(e,c,t){"use strict";t.r(c);var n=t(1),a=t(22),i=t.n(a),s=(t(28),t(6)),r=t(9),o=t.n(r),d=(t(47),t(23)),l="85e41a5d31mshb460731cff03989p1f7e05jsn23d731d84e8a",j=t(0);function p(e){var c=Object(n.useState)([]),t=Object(s.a)(c,2),a=t[0],i=t[1],r=Object(n.useState)("5y"),p=Object(s.a)(r,2),h=p[0],b=p[1],u={method:"GET",url:"https://coinranking1.p.rapidapi.com/coin/".concat(""===e.coinId?"1":e.coinId,"/history/").concat(h),headers:{"x-rapidapi-host":"coinranking1.p.rapidapi.com","x-rapidapi-key":l}};Object(n.useEffect)((function(){o.a.request(u).then((function(e){i(e.data.data.history)})).catch((function(e){return console.error(e)}))}),[e,h]);var O,m=[],x=[];for(var f=0;f<a.length;f++)m.push(a[f].price);for(var g=0;g<a.length;g++)x.push((O=a[g].timestamp,new Date(O).toLocaleDateString("en-EN",{year:"numeric",month:"short",day:"numeric"})));var v={labels:x,datasets:[{data:m,borderColor:"#42a5ff",borderWidth:2,pointRadius:0,tension:.01,spanGaps:!0}]};return console.log(h),Object(j.jsxs)("div",{className:"chart-wp",children:[Object(j.jsxs)("div",{className:"select-input",children:[Object(j.jsx)("label",{for:"rangeTime",children:"In last :"}),Object(j.jsxs)("select",{id:"rangeTime",value:h,onChange:function(e){return b(e.target.value)},children:[Object(j.jsx)("option",{value:"24h",children:"24 hours"}),Object(j.jsx)("option",{value:"7d",children:"7 days"}),Object(j.jsx)("option",{value:"30d",children:"30 days"}),Object(j.jsx)("option",{value:"1y",children:"1 years"}),Object(j.jsx)("option",{value:"5y",selected:!0,children:"5 year"})]})]}),Object(j.jsx)(d.a,{data:v,options:{responsive:!0,scales:{y:{position:"right",grid:{boderWidth:1,color:"#333",borderColor:"#333",drawTicks:!1},ticks:{maxTicksLimit:12,padding:14,color:"#42a5ff",callback:function(e,c,t){return"$ "+e.toLocaleString()}}},x:{grid:{boderWidth:1,color:"#333",drawTicks:!1},ticks:{maxTicksLimit:20,padding:14,color:"rgb(186,186,186)"}}},plugins:{legend:{display:!1}}}})]})}function h(){return Object(j.jsx)("footer",{children:Object(j.jsxs)("p",{children:["Made by ",Object(j.jsx)("a",{href:"https://www.arnaudhuret.fr",children:"@Myself"})," (Code on my GitHub, Open source). Inspired ",Object(j.jsx)("a",{href:"https://www.inflationchart.com",children:"inflationchart.com"})," layout."]})})}function b(e){console.log("maj");var c={method:"GET",url:"https://coinranking1.p.rapidapi.com/coin/".concat(""===e.coinId?"1":e.coinId),headers:{"x-rapidapi-host":"coinranking1.p.rapidapi.com","x-rapidapi-key":l}},t=Object(n.useState)([]),a=Object(s.a)(t,2),i=a[0],r=a[1];return Object(n.useEffect)((function(){o.a.request(c).then((function(e){r(e.data.data.coin)})).catch((function(e){return console.error(e)}))}),[e]),Object(j.jsxs)("header",{children:[Object(j.jsxs)("div",{className:"title",children:[Object(j.jsx)("img",{src:i.iconUrl,alt:"Coin logo"}),Object(j.jsxs)("h1",{children:[i.name," - ",i.symbol]})]}),Object(j.jsxs)("div",{className:"heading-col",children:[Object(j.jsx)("p",{children:"Rank"}),Object(j.jsxs)("span",{children:["#",i.rank]})]}),Object(j.jsxs)("div",{className:"heading-col",children:[Object(j.jsx)("p",{children:"Current price"}),Object(j.jsxs)("span",{children:["$",i.price?Math.round(i.price).toLocaleString():""]})]}),Object(j.jsxs)("div",{className:"heading-col",children:[Object(j.jsx)("p",{children:"Market Cap"}),Object(j.jsxs)("span",{children:["$",i.marketCap?i.marketCap.toLocaleString():""]})]}),Object(j.jsxs)("div",{className:"heading-col",children:[Object(j.jsx)("p",{children:"Total supply"}),Object(j.jsxs)("span",{children:[i.totalSupply?i.totalSupply.toLocaleString():""," ",i.symbol]})]})]})}function u(e){return Object(j.jsxs)("main",{className:"main",children:[Object(j.jsx)(b,{coinId:e.coinId}),Object(j.jsx)(p,{coinId:e.coinId}),Object(j.jsx)(h,{})]})}var O=t.p+"static/media/logo.e45cce07.svg";function m(e){var c={method:"GET",url:"https://coinranking1.p.rapidapi.com/coins?limit=100",headers:{"x-rapidapi-host":"coinranking1.p.rapidapi.com","x-rapidapi-key":l}},t=Object(n.useState)([]),a=Object(s.a)(t,2),i=a[0],r=a[1],d=Object(n.useState)(""),p=Object(s.a)(d,2),h=p[0],b=p[1];return Object(n.useEffect)((function(){o.a.request(c).then((function(e){return r(e.data.data.coins)})).catch((function(e){return console.error(e)}))}),[]),Object(j.jsxs)("nav",{className:"nav-left-wp",children:[Object(j.jsxs)("div",{className:"heading",children:[Object(j.jsx)("img",{src:O,alt:"logo app"}),Object(j.jsx)("h1",{children:"Today's Cryptocurrency Prices by Market Cap"}),Object(j.jsxs)("p",{children:["Data is from ",Object(j.jsx)("a",{href:"https://coinranking.com",children:"Coinranking API"})]})]}),Object(j.jsx)("div",{className:"search-bar",children:Object(j.jsx)("input",{value:h,placeholder:"Search Coin",onChange:function(e){b(e.target.value)}})}),Object(j.jsx)("div",{className:"coins-list",children:Object(j.jsxs)("div",{className:"coin-wp",children:[i.filter((function(e){return""===h||e.name.toLowerCase().includes(h.toLocaleLowerCase())||e.symbol.toLowerCase().includes(h.toLocaleLowerCase())?e:void 0})).map((function(c){return Object(j.jsxs)("div",{className:"coin-row",children:[Object(j.jsx)("div",{className:"divider"}),Object(j.jsxs)("div",{className:"coin-info",onClick:function(){return e.getCoinId(c.id)},children:[Object(j.jsx)("img",{src:c.iconUrl,alt:""}),Object(j.jsx)("h2",{children:c.name}),Object(j.jsx)("span",{children:c.symbol})]})]})})),Object(j.jsx)("div",{className:"divider"})]})})]})}var x=function(){var e=Object(n.useState)(""),c=Object(s.a)(e,2),t=c[0],a=c[1];return Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(m,{getCoinId:function(e){a(e)}}),Object(j.jsx)(u,{coinId:t})]})};i.a.render(Object(j.jsx)(x,{}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.bfe083c0.chunk.js.map